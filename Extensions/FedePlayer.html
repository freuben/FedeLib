<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<title></title>
<meta name="Generator" content="Cocoa HTML Writer">
<meta name="CocoaVersion" content="949.54">
<style type="text/css">
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Helvetica}
p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px Helvetica; min-height: 22.0px}
p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco}
p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #606060}
p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #663f23}
p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #808080}
p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #783a1d}
p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #a8220e}
p.p12 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #a8220e; min-height: 12.0px}
p.p13 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #bf0000}
p.p14 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #000000; min-height: 12.0px}
p.p15 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #000000}
span.s1 {font: 18.0px Helvetica}
span.s2 {color: #000000}
span.s3 {color: #102da7}
span.s4 {color: #606060}
span.s5 {color: #0626af}
span.s6 {color: #0013bb}
span.s7 {color: #a8220e}
span.s8 {color: #316f11}
span.s9 {color: #0626b1}
span.s10 {color: #0000bf}
span.s11 {color: #bf0000}
span.Apple-tab-span {white-space:pre}
</style>
</head>
<body>
<p class="p1"><span class="s1"><b>FedePlayer<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></span><b>a simple class to play soundfiles from buffers</b></p>
<p class="p2"><br></p>
<p class="p3"><b>FedePlayer.ar( pathsArray )</b></p>
<p class="p4"><br></p>
<p class="p3">A simple player of stereo and mono soundfiles.<span class="Apple-converted-space"> </span></p>
<p class="p4"><br></p>
<p class="p3"><b>pathsArray</b> - an array of paths for to load soundfiles in an array of buffers</p>
<p class="p4"><br></p>
<p class="p3">Recognizes stereo and mono playback. Keeps track of Buffers and Synths through Arrays.</p>
<p class="p4"><br></p>
<p class="p3"><b>Example</b></p>
<p class="p5"><br></p>
<p class="p6">s.boot;</p>
<p class="p5"><br></p>
<p class="p7"><span class="s2">f = </span><span class="s3">FedePlayer</span><span class="s2">([</span>"/Users/freuben/Music/Logic/video_zizek/Audio Files/Zizek?_video(16bit).wav"<span class="s2">, </span>"/Users/freuben/Music/Logic/EtudesI/Bounces/prueba1.aif"<span class="s2">]);</span></p>
<p class="p5"><br></p>
<p class="p8"><span class="s2">f.read(0, 0, 0.1); </span>//whichBuf, startPos, vol</p>
<p class="p5"><br></p>
<p class="p8"><span class="s2">f.read(1, 100, 0.1); </span>//start position in seconds!</p>
<p class="p5"><br></p>
<p class="p6">f.bufferArr;</p>
<p class="p5"><br></p>
<p class="p9"><span class="s2">f.addBuffer(</span><span class="s4">"</span>/Users/freuben/Music/FreuPinta/simulation_no2.aif<span class="s4">"</span><span class="s2">);</span></p>
<p class="p5"><br></p>
<p class="p6">f.play(2, 0, 0.05);</p>
<p class="p5"><br></p>
<p class="p6">f.synthArr;</p>
<p class="p5"><br></p>
<p class="p10"><span class="s2">f.stop(0); </span>//stop synth at 0</p>
<p class="p5"><br></p>
<p class="p10"><span class="s2">f.stop(1); </span>//stop synth at 1</p>
<p class="p5"><br></p>
<p class="p10"><span class="s2">f.addCocoa; </span>//add using cocoa</p>
<p class="p5"><br></p>
<p class="p6">f.play(3, 0, 0.05);</p>
<p class="p5"><br></p>
<p class="p6">f.synthArr;</p>
<p class="p5"><br></p>
<p class="p6">f.resume(0);</p>
<p class="p5"><br></p>
<p class="p6">f.resume(1);</p>
<p class="p5"><br></p>
<p class="p6">f.free(0);</p>
<p class="p5"><br></p>
<p class="p6">f.synthArr;</p>
<p class="p5"><br></p>
<p class="p6">f.free(0);</p>
<p class="p5"><br></p>
<p class="p8"><span class="s2">f.clearAllSynths; </span>//frees all synths and clears array<span class="Apple-converted-space"> </span></p>
<p class="p5"><br></p>
<p class="p8"><span class="s2">f.clearAllBuffers; </span>//frees all buffers and clears array<span class="Apple-converted-space"> </span></p>
<p class="p5"><br></p>
<p class="p5"><br></p>
<p class="p6">f = <span class="s5">FedePlayer</span>.open;</p>
<p class="p5"><br></p>
<p class="p6">f.bufferArr;</p>
<p class="p5"><br></p>
<p class="p6">f.addCocoa;</p>
<p class="p5"><br></p>
<p class="p11">///////////////////////////////////////////////</p>
<p class="p5"><br></p>
<p class="p11">//with NodeProxy for easy filtering</p>
<p class="p6">s.boot;</p>
<p class="p5"><br></p>
<p class="p7"><span class="s2">f = </span><span class="s6">FedePlayer</span><span class="s2">([</span>"/Users/freuben/Music/Logic/video_zizek/Audio Files/Zizek?_video(16bit).wav"<span class="s2">, </span>"/Users/freuben/Music/Logic/EtudesI/Bounces/prueba1.aif"<span class="s2">]);</span></p>
<p class="p5"><br></p>
<p class="p6">(</p>
<p class="p6">a = <span class="s6">NodeProxy</span>.audio(s, 2);</p>
<p class="p6">b = <span class="s6">NodeProxy</span>.audio(s,2);</p>
<p class="p6">)</p>
<p class="p5"><br></p>
<p class="p11">// play the pattern silently in b</p>
<p class="p6">(</p>
<p class="p6">~buff = f.bufferArr[0].bufnum;</p>
<p class="p6">b.source = {<span class="s6">arg</span> bufnum=~buff,rate=1,startPos=0,dur=0.1,atk=0.005, rel=0.005, curve=0, vol=0, pos=0, loop=0; <span class="Apple-converted-space"> </span></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">var</span> playbuf, env;</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>playbuf= <span class="s6">PlayBuf</span>.ar(1,bufnum,<span class="s6">BufRateScale</span>.kr(bufnum)*rate,1.0,startPos,loop);</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>env= <span class="s6">EnvGen</span>.ar(<span class="s6">Env</span>([0,1,1,0],[atk,dur-atk-rel,rel],curve),doneAction:2);</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">Pan2</span>.ar(playbuf*env, pos, vol);</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>};</p>
<p class="p6">)</p>
<p class="p12"><br></p>
<p class="p6">b.play;</p>
<p class="p5"><br></p>
<p class="p6">b.spawn(f.playNode(0,200*44100,1,0.5, rate:0.5, atk:0.3, rel: 1);); <span class="s7">//buf, start, vol, dur, rate, pos, atk, rel, curve, out</span></p>
<p class="p6">b.spawn(f.playNode(0,400*44100,1,1, atk: 0.01, rel: 0.6);); <span class="s7">//buf, start, vol, dur, rate, pos, atk, rel, curve, out</span></p>
<p class="p6">b.spawn(f.playNode(1, 100*44100, 0.1, 2, rel: 0.4););</p>
<p class="p5"><br></p>
<p class="p6">b.stop;</p>
<p class="p12"><br></p>
<p class="p11">// play b out through a:</p>
<p class="p11"><span class="s2">a.play; </span>// monitor output</p>
<p class="p6">a.source = b;</p>
<p class="p5"><br></p>
<p class="p6">r = <span class="s6">Routine</span>({<span class="s6">inf</span>.do({</p>
<p class="p6">b.spawn(f.playNode(0,rrand(30,400)*44100,1,rrand(2, 0.5), rate: 1, atk:0.3, rel: 1, pos: 0);); <span class="s7">//buf, start, vol, dur, rate, pos, atk, rel, curve, out</span></p>
<p class="p6">1.yield;</p>
<p class="p6">}); }).play;</p>
<p class="p5"><br></p>
<p class="p11">// filter b with ring modulation:</p>
<p class="p6">a.source = { <span class="s6">LPF</span>.ar(b.ar, <span class="s6">MouseX</span>.kr(10, 18000, 1)) };</p>
<p class="p6">a.source = {<span class="Apple-converted-space">  </span>b.ar<span class="Apple-converted-space">  </span>* <span class="s6">SinOsc</span>.ar(<span class="s6">SinOsc</span>.kr(0.2, 300, 330))<span class="Apple-converted-space">  </span>}; <span class="s7">// filter the input of the pattern</span></p>
<p class="p6">a.source = { <span class="s6">PitchShift</span>.ar(b.ar, <span class="s6">MouseX</span>.kr(0.4,0.1), <span class="s6">MouseX</span>.kr(0.5,2).poll(10), <span class="s6">MouseX</span>.kr(0,0.004), <span class="s6">MouseX</span>.kr(0.0001,0.04)) }; <span class="s7">//pitch shift</span></p>
<p class="p11"><span class="s2">r.stop; </span>//stop routine</p>
<p class="p6">b.spawn(f.playNode(0,100*44100,1,200, rate: 1, atk:0.3, rel: 1, pos: 0););</p>
<p class="p12"><br></p>
<p class="p6">a.source = { <span class="s6">PitchShift</span>.ar(b.ar, 0.1, <span class="s6">MouseX</span>.kr(0.5,2).poll(10), <span class="s6">MouseX</span>.kr(0,0.004), <span class="s6">MouseX</span>.kr(0.0001,0.04)) }; <span class="s7">//pitch shift (more smooth gliss, winSize:1)</span></p>
<p class="p6">a.source = { <span class="s6">PitchShift</span>.ar(b.ar, 0.1,1, 0, 0.0001) }; <span class="s7">//pitch shift</span></p>
<p class="p6">a.source = {<span class="Apple-converted-space">  </span>b.ar * 1 }</p>
<p class="p5"><br></p>
<p class="p6">b.set(<span class="s8">\vol</span>, 0.5);</p>
<p class="p5"><br></p>
<p class="p6">r = <span class="s6">Routine</span>({<span class="s6">inf</span>.do({</p>
<p class="p6">b.spawn(f.playNode(0,rrand(30,400)*44100,1,0.5, rate:rrand(2, 0.5), atk:0.3, rel: 1, pos: rrand(-1.0,1));); <span class="s7">//buf, start, vol, dur, rate, pos, atk, rel, curve, out</span></p>
<p class="p6">0.1.yield;</p>
<p class="p6">}); }).play;</p>
<p class="p5"><br></p>
<p class="p11">// filter b with ring modulation:</p>
<p class="p6">a.source =<span class="Apple-converted-space">  </span>{ <span class="s6">BPF</span>.ar(b.ar, <span class="s6">MouseX</span>.kr(100, 18000, 1), <span class="s6">MouseY</span>.kr(0.1,1)) }; <span class="s7">//band pass</span></p>
<p class="p6">a.source = { <span class="s9">CombL</span>.ar(b.ar * (<span class="s9">LFNoise0</span>.ar(10) &gt; 0), 0.2, 0.2, <span class="s9">MouseX</span>.kr(0.1, 5, 1)) };</p>
<p class="p6">a.source = {<span class="Apple-converted-space">  </span>b.ar * <span class="s6">LFCub</span>.ar([2, 8], add: -0.5)<span class="Apple-converted-space">  </span>}; <span class="s7">// filter the input of the pattern</span></p>
<p class="p6">a.source = { <span class="s9">RLPF</span>.ar(b.ar, <span class="s9">LFNoise1</span>.kr(3, 1000, 1040), 0.05).distort * 0.5}; <span class="s7">// filter the input of the pattern</span></p>
<p class="p6">a.source = { (b.ar*100).distort * 0.075 };</p>
<p class="p6">a.source = {<span class="Apple-converted-space">  </span>b.ar }</p>
<p class="p5"><br></p>
<p class="p6">a.stop;</p>
<p class="p5"><br></p>
<p class="p6">b.play;</p>
<p class="p6">r.stop;</p>
<p class="p5"><br></p>
<p class="p6">b.spawn(f.playNode(0,200*44100,1,0.5, rate:0.5, atk:0.3, rel: 1);); <span class="s7">//buf, start, vol, dur, rate, pos, atk, rel, curve, out</span></p>
<p class="p6">b.spawn(f.playNode(0,400*44100,1,1, atk: 0.01, rel: 0.6);); <span class="s7">//buf, start, vol, dur, rate, pos, atk, rel, curve, out</span></p>
<p class="p6">b.spawn(f.playNode(1, 100*44100, 0.1, 2, rel: 0.4););</p>
<p class="p5"><br></p>
<p class="p6">b.stop;</p>
<p class="p12"><br></p>
<p class="p13">//add one more than one filter</p>
<p class="p5"><br></p>
<p class="p6">c = <span class="s6">NodeProxy</span>.audio(s,2);</p>
<p class="p6">c.play;</p>
<p class="p5"><br></p>
<p class="p6">a.source = b;</p>
<p class="p6">a.source = { <span class="s6">PitchShift</span>.ar(b.ar, 0.1, <span class="s6">MouseX</span>.kr(0.5,2).poll(10), <span class="s6">MouseX</span>.kr(0,0.004), <span class="s6">MouseX</span>.kr(0.0001,0.04)) };</p>
<p class="p5"><br></p>
<p class="p6">c.source = a;</p>
<p class="p5"><br></p>
<p class="p6">b.spawn(f.playNode(0,100*44100,1,200, rate: 1, atk:0.3, rel: 1, pos: 0););</p>
<p class="p5"><br></p>
<p class="p6">c.source = { <span class="s6">LPF</span>.ar(a.ar, <span class="s6">MouseX</span>.kr(10, 18000, 1)) };</p>
<p class="p14"><br></p>
<p class="p13"><span class="s2">a.source = { (b.ar*100).distort * 0.075 }; </span>//change pitch shif for distortion in NodeProxy a</p>
<p class="p5"><br></p>
<p class="p15">c.source = { <span class="s10">PitchShift</span>.ar(a.ar, 0.1, <span class="s10">MouseX</span>.kr(0.5,2).poll(10), <span class="s10">MouseX</span>.kr(0,0.004), <span class="s10">MouseX</span>.kr(0.0001,0.04)) }; <span class="s11">//change filter c</span></p>
<p class="p5"><br></p>
<p class="p6">a.source = { <span class="s9">RLPF</span>.ar(b.ar, <span class="s9">LFNoise1</span>.kr(3, 1000, 1040), 0.05).distort * 0.5}; <span class="s7">//change filter a</span></p>
<p class="p5"><br></p>
<p class="p6">c.source = { a.ar };</p>
<p class="p6">a.source = { b.ar };</p>
<p class="p5"><br></p>
<p class="p5"><br></p>
<p class="p5"><br></p>
</body>
</html>
