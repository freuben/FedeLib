<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<title></title>
<meta name="Generator" content="Cocoa HTML Writer">
<meta name="CocoaVersion" content="949.54">
<style type="text/css">
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #0626af}
p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco}
p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #853519}
p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #606060}
p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #952e14}
p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #783a1d}
span.s1 {color: #000000}
span.s2 {color: #0626af}
span.s3 {color: #001bb7}
span.s4 {color: #783a1d}
span.s5 {color: #952e14}
span.s6 {color: #606060}
span.s7 {color: #853519}
</style>
</head>
<body>
<p class="p1"><span class="s1">a = </span>Segmentation<span class="s1">(s);</span></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3">~dataArray = [];</p>
<p class="p2"><br></p>
<p class="p3">~fileNameArray = []</p>
<p class="p2"><br></p>
<p class="p3">~dataArray = ~dataArray.add(a.outputarray);</p>
<p class="p2"><br></p>
<p class="p3">~fileNameArray = ~fileNameArray.add(a.filename);</p>
<p class="p2"><br></p>
<p class="p4">//or</p>
<p class="p2"><br></p>
<p class="p5">"/Users/freuben/Documents/SuperCollider/Fede's/Josef/DataDM_fire_vocal.rtf"<span class="s1">.loadPath</span></p>
<p class="p2"><br></p>
<p class="p4">//then</p>
<p class="p2"><br></p>
<p class="p3">s.boot.doWhenBooted {</p>
<p class="p3">~bufferArr = [];</p>
<p class="p3">~fileNameArray.do({<span class="s2">|item|</span></p>
<p class="p3">~bufferArr = ~bufferArr.add(<span class="s2">Buffer</span>.read(s, item));</p>
<p class="p3">});</p>
<p class="p2"><br></p>
<p class="p3">};</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p6"><span class="s1">f = </span><span class="s3">FedeDrumMachine</span><span class="s1">(90,4); </span>//tempo, timeDiv</p>
<p class="p2"><br></p>
<p class="p3">f.bufferArr = ~bufferArr;</p>
<p class="p3">f.dataArr = ~dataArray;</p>
<p class="p2"><br></p>
<p class="p3">f.startMain;</p>
<p class="p2"><br></p>
<p class="p7"><span class="s1">f.randMachine; </span>//starts random grains</p>
<p class="p2"><br></p>
<p class="p3">f.set([<span class="s2">Array</span>.fill(16,{[0,1].wchoose([0.9,0.1])}), <span class="s2">Array</span>.fill(16,{[0,1].choose})].postln, [0,0], [0,0], [0.01,0.4],[0.9,0.2],[0,0],[0,0]); <span class="s4">//patterns, files, atks, rels, vols,startOff, endOff</span></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3">(~dataArray[0].size-1) - 200;</p>
<p class="p3">(~dataArray[0].size-1) - 26</p>
<p class="p2"><br></p>
<p class="p3">f.startOff = [200,200,200];<span class="Apple-converted-space"> </span></p>
<p class="p3">f.endOff = [139,139,139];<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p3">f.startOff = [0,0]; <span class="s5">//second is vocal</span></p>
<p class="p3">f.endOff = [0,0]; <span class="s5">//second is vocal</span></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3">f.seqMachine;</p>
<p class="p2"><br></p>
<p class="p3">f.funcLoop = {<span class="s6">"hello loop"</span>.postln;};</p>
<p class="p3">f.funcIndv = {<span class="s6">"hello indiv"</span>.postln;};</p>
<p class="p2"><br></p>
<p class="p3">f.indexGrain(67,1,startOffset:0, endOffset:0); <span class="s7">//index, file, atk, rel, vol</span></p>
<p class="p2"><br></p>
<p class="p3">f.indexGrain(26,0,startOffset:0, endOffset:0); <span class="s7">//index, file, atk, rel, vol</span></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3">f.randGrain(0);</p>
<p class="p3">f.randGrain(0);</p>
<p class="p2"><br></p>
<p class="p3">f.funcLoop = {f.set([<span class="s2">Array</span>.fill(16,{[0,1].wchoose([0.4,0.6])}), <span class="s2">Array</span>.fill(16,{[0,1].choose})].postln, [4,5], [0,0], [0.1,1],[0.9,0.2],[0,0],[0,0]);};</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3">~drumArray = [ 1, 1, 1, 0, 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 1 ];</p>
<p class="p3">~drumPat = <span class="s2">Pseq</span>(~drumArray, <span class="s2">1</span>).asStream;</p>
<p class="p2"><br></p>
<p class="p3">~pattArray = [~drumPat, ~drumPat];</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3">f.randGrain(1);</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3">if(~pattArray[1].next == 1, {</p>
<p class="p3">f.randGrain(0);</p>
<p class="p3">});</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
</body>
</html>
